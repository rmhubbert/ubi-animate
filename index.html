<!DOCTYPE html>
<html lang="en">
    <head>
        <title>UbiAnimate</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"
        />
        <link
            href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./dist/ubianimate.css" />

        <style type="text/css">
            body {
                letter-spacing: 0.05rem;
                font-family: Rubik, "Helvetica Neue", Helvetica, Arial,
                    sans-serif;
            }

            #notify {
                position: fixed;
                top: 0;
                left: 0;
                margin: 1rem;
                z-index: 1000;
                font-size: 0.9em;
                width: 20vw;
            }

            #notify .notification {
                padding: 0.7rem;
            }

            .select {
                margin-right: 0.5rem;
            }

            .button {
                margin-left: 0;
                font-weight: bold;
                letter-spacing: 0.05rem;
            }

            .title {
                font-weight: 500;
                font-size: 2.5rem;
                letter-spacing: 0.15rem;
            }

            fieldset {
                margin-bottom: 1rem;
            }
        </style>
    </head>
    <body>
        <main>
            <section class="hero is-light">
                <div class="hero-body">
                    <div class="container">
                        <h1 class="title">UbiAnimate</h1>
                        <h2 class="subtitle">
                            Lightweight & configurable CSS animations for toast
                            / snackbar type notifications
                        </h2>
                        <form>
                            <fieldset>
                                <div class="select">
                                    <select id="enter">
                                        <optgroup label="Fade entrances">
                                            <option value="fade-in"
                                                >Fade in</option
                                            >
                                        </optgroup>
                                        <optgroup label="Growth entrances">
                                            <option value="grow-in-horizontally"
                                                >Grow in horizontally</option
                                            >
                                            <option value="grow-in-vertically"
                                                >Grow in vertically</option
                                            >
                                            <option
                                                value="grow-in-horizontally-vertically"
                                                >Grow in horizontally &
                                                vertically</option
                                            >
                                            <option
                                                value="grow-bounce-in-horizontally"
                                                >Grow & bounce in
                                                horizontally</option
                                            >
                                            <option
                                                value="grow-bounce-in-vertically"
                                                >Grow & bounce in
                                                vertically</option
                                            >
                                            <option
                                                value="grow-bounce-in-horizontally-vertically"
                                                >Grow & bounce in horizontally &
                                                vertically</option
                                            >
                                        </optgroup>
                                        <optgroup label="Slide entrances">
                                            <option
                                                value="slide-in-horizontally"
                                                >Slide in horizontally</option
                                            >
                                            <option value="slide-in-vertically"
                                                >Slide in vertically</option
                                            >
                                            <option
                                                value="slide-bounce-in-horizontally"
                                                >Slide & bounce in
                                                horizontally</option
                                            >
                                            <option
                                                value="slide-bounce-in-vertically"
                                                >Slide & bounce in
                                                vertically</option
                                            >
                                        </optgroup>
                                    </select>
                                </div>
                                <div class="select">
                                    <select class="select" id="leave">
                                        <optgroup label="Fade exits">
                                            <option value="fade-out"
                                                >Fade out</option
                                            >
                                        </optgroup>
                                        <optgroup label="Growth exits">
                                            <option
                                                value="grow-out-horizontally"
                                                >Grow out horizontally</option
                                            >
                                            <option value="grow-out-vertically"
                                                >Grow out vertically</option
                                            >
                                            <option
                                                value="grow-out-horizontally-vertically"
                                                >Grow out horizontally &
                                                vertically</option
                                            >
                                            <option
                                                value="grow-bounce-out-horizontally"
                                                >Grow & bounce out
                                                horizontally</option
                                            >
                                            <option
                                                value="grow-bounce-out-vertically"
                                                >Grow & bounce out
                                                vertically</option
                                            >
                                            <option
                                                value="grow-bounce-out-horizontally-vertically"
                                                >Grow & bounce out horizontally
                                                & vertically</option
                                            >
                                        </optgroup>
                                        <optgroup label="Slide exits">
                                            <option
                                                value="slide-out-horizontally"
                                                >Slide out horizontally</option
                                            >
                                            <option value="slide-out-vertically"
                                                >Slide out vertically</option
                                            >
                                            <option
                                                value="slide-bounce-out-horizontally"
                                                >Slide & bounce out
                                                horizontally</option
                                            >
                                            <option
                                                value="slide-bounce-out-vertically"
                                                >Slide & bounce out
                                                vertically</option
                                            >
                                        </optgroup>
                                    </select>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="select">
                                    <select id="position">
                                        <option value="down right"
                                            >Notify top left</option
                                        >
                                        <option value="down center"
                                            >Notify top center</option
                                        >
                                        <option value="down left" selected
                                            >Notify top right</option
                                        >
                                        <option value="up right"
                                            >Notify bottom left</option
                                        >
                                        <option value="up center"
                                            >Notify bottom center</option
                                        >
                                        <option value="up left"
                                            >Notify bottom right</option
                                        >
                                    </select>
                                </div>
                                <button
                                    class="button is-primary"
                                    onclick="UbiAnimate(event)"
                                >
                                    UbiAnimate!
                                </button>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </section>

            <div id="notify"></div>
            <template id="notificationTemplate">
                <div class="notification is-primary">
                    <p><strong>UbiAnimate</strong></p>
                    <p>
                        Lightweight & configurable CSS animations for toast /
                        snackbar type notifications
                    </p>
                </div>
            </template>
        </main>

        <script type="text/javascript">
            /* eslint-disable no-unused-vars */

            var defaultEnterDuration = 1000;
            var defaultShowDuration = 2000;
            var defaultLeaveDuration = 1000;
            var isActive = false;

            function UbiAnimate(event) {
                event.preventDefault();
                if (!isActive) {
                    isActive = true;

                    var positionSelect = document.getElementById("position");
                    var position =
                        positionSelect.options[positionSelect.selectedIndex]
                            .value;
                    var enterSelect = document.getElementById("enter");
                    var enter =
                        enterSelect.options[enterSelect.selectedIndex].value;
                    var leaveSelect = document.getElementById("leave");
                    var leave =
                        leaveSelect.options[leaveSelect.selectedIndex].value;
                    var notify = document.getElementById("notify");

                    var pos = position.split(" ");

                    if (pos[0] === "down") {
                        notify.style.bottom = "initial";
                        notify.style.top = 0;
                        enter += " down";
                        leave += " up";
                    } else {
                        notify.style.top = "initial";
                        notify.style.bottom = 0;
                        enter += " up";
                        leave += " down";
                    }
                    if (pos[1] === "center") {
                        notify.style.right = "initial";
                        notify.style.left = "50%";
                        notify.style.marginLeft = "-10vw";
                        enter += " center";
                        leave += " center";
                    } else if (pos[1] === "left") {
                        notify.style.marginLeft = "1rem";
                        notify.style.left = "initial";
                        notify.style.right = 0;
                        enter += " left";
                        leave += " right";
                    } else {
                        notify.style.marginLeft = "1rem";
                        notify.style.right = "initial";
                        notify.style.left = 0;
                        enter += " right";
                        leave += " left";
                    }

                    notify.className = "animate " + enter;

                    var templateElement = document.getElementById(
                        "notificationTemplate"
                    );
                    var content = templateElement.content.querySelector("div");
                    var template = document.importNode(content, true);
                    notify.appendChild(template);

                    setTimeout(function() {
                        notify.className = notify.className.replace(
                            enter,
                            leave
                        );
                        setTimeout(function() {
                            notify.removeChild(template);
                            isActive = false;
                        }, defaultLeaveDuration);
                    }, defaultEnterDuration + defaultShowDuration);
                }
            }
        </script>
    </body>
</html>
